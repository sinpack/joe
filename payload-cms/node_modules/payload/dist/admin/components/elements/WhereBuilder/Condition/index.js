"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _useDebounce = /*#__PURE__*/ _interop_require_default(require("../../../../hooks/useDebounce"));
const _RenderCustomComponent = /*#__PURE__*/ _interop_require_default(require("../../../utilities/RenderCustomComponent"));
const _Button = /*#__PURE__*/ _interop_require_default(require("../../Button"));
const _ReactSelect = /*#__PURE__*/ _interop_require_default(require("../../ReactSelect"));
const _Date = /*#__PURE__*/ _interop_require_default(require("./Date"));
const _Number = /*#__PURE__*/ _interop_require_default(require("./Number"));
const _Relationship = /*#__PURE__*/ _interop_require_default(require("./Relationship"));
const _Select = require("./Select");
const _Text = /*#__PURE__*/ _interop_require_default(require("./Text"));
require("./index.scss");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const valueFields = {
    Date: _Date.default,
    Number: _Number.default,
    Relationship: _Relationship.default,
    Select: _Select.Select,
    Text: _Text.default
};
const baseClass = 'condition';
const Condition = (props)=>{
    const { andIndex, dispatch, fields, orIndex, value } = props;
    const fieldName = Object.keys(value)[0];
    const [activeField, setActiveField] = (0, _react.useState)(()=>fields.find((field)=>fieldName === field.value));
    const operatorAndValue = value?.[fieldName] ? Object.entries(value[fieldName])[0] : undefined;
    const queryValue = operatorAndValue?.[1];
    const operatorValue = operatorAndValue?.[0];
    const [internalValue, setInternalValue] = (0, _react.useState)(queryValue);
    const [internalOperatorField, setInternalOperatorField] = (0, _react.useState)(operatorValue);
    const debouncedValue = (0, _useDebounce.default)(internalValue, 300);
    (0, _react.useEffect)(()=>{
        const newActiveField = fields.find(({ value: name })=>name === fieldName);
        if (newActiveField && newActiveField !== activeField) {
            setActiveField(newActiveField);
            setInternalOperatorField(null);
            setInternalValue('');
        }
    }, [
        fieldName,
        fields,
        activeField
    ]);
    (0, _react.useEffect)(()=>{
        dispatch({
            type: 'update',
            andIndex,
            orIndex,
            value: debouncedValue || ''
        });
    }, [
        debouncedValue,
        dispatch,
        orIndex,
        andIndex
    ]);
    const booleanSelect = [
        'exists'
    ].includes(operatorValue) || activeField.props.type === 'checkbox';
    const ValueComponent = booleanSelect ? _Select.Select : valueFields[activeField?.component] || valueFields.Text;
    let valueOptions;
    if (booleanSelect) {
        valueOptions = [
            'true',
            'false'
        ];
    } else if (activeField?.props && 'options' in activeField.props) {
        valueOptions = activeField.props.options;
    }
    return /*#__PURE__*/ _react.default.createElement("div", {
        className: baseClass
    }, /*#__PURE__*/ _react.default.createElement("div", {
        className: `${baseClass}__wrap`
    }, /*#__PURE__*/ _react.default.createElement("div", {
        className: `${baseClass}__inputs`
    }, /*#__PURE__*/ _react.default.createElement("div", {
        className: `${baseClass}__field`
    }, /*#__PURE__*/ _react.default.createElement(_ReactSelect.default, {
        isClearable: false,
        onChange: (field)=>{
            dispatch({
                type: 'update',
                andIndex,
                field: field?.value,
                orIndex
            });
        },
        options: fields,
        value: fields.find((field)=>fieldName === field.value)
    })), /*#__PURE__*/ _react.default.createElement("div", {
        className: `${baseClass}__operator`
    }, /*#__PURE__*/ _react.default.createElement(_ReactSelect.default, {
        disabled: !fieldName,
        isClearable: false,
        onChange: (operator)=>{
            dispatch({
                type: 'update',
                andIndex,
                operator: operator.value,
                orIndex
            });
            setInternalOperatorField(operator.value);
            setInternalValue('') // Reset value when operator changes
            ;
        },
        options: activeField.operators,
        value: activeField.operators.find((operator)=>internalOperatorField === operator.value) || null
    })), /*#__PURE__*/ _react.default.createElement("div", {
        className: `${baseClass}__value`
    }, /*#__PURE__*/ _react.default.createElement(_RenderCustomComponent.default, {
        CustomComponent: activeField?.props?.admin?.components?.Filter,
        DefaultComponent: ValueComponent,
        componentProps: {
            ...activeField?.props,
            disabled: !operatorValue,
            onChange: setInternalValue,
            operator: operatorValue,
            options: valueOptions,
            value: internalValue
        }
    }))), /*#__PURE__*/ _react.default.createElement("div", {
        className: `${baseClass}__actions`
    }, /*#__PURE__*/ _react.default.createElement(_Button.default, {
        buttonStyle: "icon-label",
        className: `${baseClass}__actions-remove`,
        icon: "x",
        iconStyle: "with-border",
        onClick: ()=>dispatch({
                type: 'remove',
                andIndex,
                orIndex
            }),
        round: true
    }), /*#__PURE__*/ _react.default.createElement(_Button.default, {
        buttonStyle: "icon-label",
        className: `${baseClass}__actions-add`,
        icon: "plus",
        iconStyle: "with-border",
        onClick: ()=>dispatch({
                type: 'add',
                andIndex: andIndex + 1,
                field: fields[0].value,
                orIndex,
                relation: 'and'
            }),
        round: true
    }))));
};
const _default = Condition;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9hZG1pbi9jb21wb25lbnRzL2VsZW1lbnRzL1doZXJlQnVpbGRlci9Db25kaXRpb24vaW5kZXgudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5cbmltcG9ydCB0eXBlIHsgRmllbGRDb25kaXRpb24gfSBmcm9tICcuLi90eXBlcydcbmltcG9ydCB0eXBlIHsgUHJvcHMgfSBmcm9tICcuL3R5cGVzJ1xuXG5pbXBvcnQgdXNlRGVib3VuY2UgZnJvbSAnLi4vLi4vLi4vLi4vaG9va3MvdXNlRGVib3VuY2UnXG5pbXBvcnQgUmVuZGVyQ3VzdG9tQ29tcG9uZW50IGZyb20gJy4uLy4uLy4uL3V0aWxpdGllcy9SZW5kZXJDdXN0b21Db21wb25lbnQnXG5pbXBvcnQgQnV0dG9uIGZyb20gJy4uLy4uL0J1dHRvbidcbmltcG9ydCBSZWFjdFNlbGVjdCBmcm9tICcuLi8uLi9SZWFjdFNlbGVjdCdcbmltcG9ydCBEYXRlIGZyb20gJy4vRGF0ZSdcbmltcG9ydCBOdW1iZXIgZnJvbSAnLi9OdW1iZXInXG5pbXBvcnQgUmVsYXRpb25zaGlwIGZyb20gJy4vUmVsYXRpb25zaGlwJ1xuaW1wb3J0IHsgU2VsZWN0IH0gZnJvbSAnLi9TZWxlY3QnXG5pbXBvcnQgVGV4dCBmcm9tICcuL1RleHQnXG5pbXBvcnQgJy4vaW5kZXguc2NzcydcblxuY29uc3QgdmFsdWVGaWVsZHMgPSB7XG4gIERhdGUsXG4gIE51bWJlcixcbiAgUmVsYXRpb25zaGlwLFxuICBTZWxlY3QsXG4gIFRleHQsXG59XG5cbmNvbnN0IGJhc2VDbGFzcyA9ICdjb25kaXRpb24nXG5cbmNvbnN0IENvbmRpdGlvbjogUmVhY3QuRkM8UHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgYW5kSW5kZXgsIGRpc3BhdGNoLCBmaWVsZHMsIG9ySW5kZXgsIHZhbHVlIH0gPSBwcm9wc1xuICBjb25zdCBmaWVsZE5hbWUgPSBPYmplY3Qua2V5cyh2YWx1ZSlbMF1cbiAgY29uc3QgW2FjdGl2ZUZpZWxkLCBzZXRBY3RpdmVGaWVsZF0gPSB1c2VTdGF0ZTxGaWVsZENvbmRpdGlvbj4oKCkgPT5cbiAgICBmaWVsZHMuZmluZCgoZmllbGQpID0+IGZpZWxkTmFtZSA9PT0gZmllbGQudmFsdWUpLFxuICApXG5cbiAgY29uc3Qgb3BlcmF0b3JBbmRWYWx1ZSA9IHZhbHVlPy5bZmllbGROYW1lXSA/IE9iamVjdC5lbnRyaWVzKHZhbHVlW2ZpZWxkTmFtZV0pWzBdIDogdW5kZWZpbmVkXG4gIGNvbnN0IHF1ZXJ5VmFsdWUgPSBvcGVyYXRvckFuZFZhbHVlPy5bMV1cbiAgY29uc3Qgb3BlcmF0b3JWYWx1ZSA9IG9wZXJhdG9yQW5kVmFsdWU/LlswXVxuXG4gIGNvbnN0IFtpbnRlcm5hbFZhbHVlLCBzZXRJbnRlcm5hbFZhbHVlXSA9IHVzZVN0YXRlKHF1ZXJ5VmFsdWUpXG4gIGNvbnN0IFtpbnRlcm5hbE9wZXJhdG9yRmllbGQsIHNldEludGVybmFsT3BlcmF0b3JGaWVsZF0gPSB1c2VTdGF0ZShvcGVyYXRvclZhbHVlKVxuXG4gIGNvbnN0IGRlYm91bmNlZFZhbHVlID0gdXNlRGVib3VuY2UoaW50ZXJuYWxWYWx1ZSwgMzAwKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbmV3QWN0aXZlRmllbGQgPSBmaWVsZHMuZmluZCgoeyB2YWx1ZTogbmFtZSB9KSA9PiBuYW1lID09PSBmaWVsZE5hbWUpXG5cbiAgICBpZiAobmV3QWN0aXZlRmllbGQgJiYgbmV3QWN0aXZlRmllbGQgIT09IGFjdGl2ZUZpZWxkKSB7XG4gICAgICBzZXRBY3RpdmVGaWVsZChuZXdBY3RpdmVGaWVsZClcbiAgICAgIHNldEludGVybmFsT3BlcmF0b3JGaWVsZChudWxsKVxuICAgICAgc2V0SW50ZXJuYWxWYWx1ZSgnJylcbiAgICB9XG4gIH0sIFtmaWVsZE5hbWUsIGZpZWxkcywgYWN0aXZlRmllbGRdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogJ3VwZGF0ZScsXG4gICAgICBhbmRJbmRleCxcbiAgICAgIG9ySW5kZXgsXG4gICAgICB2YWx1ZTogZGVib3VuY2VkVmFsdWUgfHwgJycsXG4gICAgfSlcbiAgfSwgW2RlYm91bmNlZFZhbHVlLCBkaXNwYXRjaCwgb3JJbmRleCwgYW5kSW5kZXhdKVxuXG4gIGNvbnN0IGJvb2xlYW5TZWxlY3QgPSBbJ2V4aXN0cyddLmluY2x1ZGVzKG9wZXJhdG9yVmFsdWUpIHx8IGFjdGl2ZUZpZWxkLnByb3BzLnR5cGUgPT09ICdjaGVja2JveCdcbiAgY29uc3QgVmFsdWVDb21wb25lbnQgPSBib29sZWFuU2VsZWN0XG4gICAgPyBTZWxlY3RcbiAgICA6IHZhbHVlRmllbGRzW2FjdGl2ZUZpZWxkPy5jb21wb25lbnRdIHx8IHZhbHVlRmllbGRzLlRleHRcblxuICBsZXQgdmFsdWVPcHRpb25zXG4gIGlmIChib29sZWFuU2VsZWN0KSB7XG4gICAgdmFsdWVPcHRpb25zID0gWyd0cnVlJywgJ2ZhbHNlJ11cbiAgfSBlbHNlIGlmIChhY3RpdmVGaWVsZD8ucHJvcHMgJiYgJ29wdGlvbnMnIGluIGFjdGl2ZUZpZWxkLnByb3BzKSB7XG4gICAgdmFsdWVPcHRpb25zID0gYWN0aXZlRmllbGQucHJvcHMub3B0aW9uc1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17YmFzZUNsYXNzfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X193cmFwYH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X19pbnB1dHNgfT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7YmFzZUNsYXNzfV9fZmllbGRgfT5cbiAgICAgICAgICAgIDxSZWFjdFNlbGVjdFxuICAgICAgICAgICAgICBpc0NsZWFyYWJsZT17ZmFsc2V9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZmllbGQpID0+IHtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAndXBkYXRlJyxcbiAgICAgICAgICAgICAgICAgIGFuZEluZGV4LFxuICAgICAgICAgICAgICAgICAgZmllbGQ6IGZpZWxkPy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgIG9ySW5kZXgsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgb3B0aW9ucz17ZmllbGRzfVxuICAgICAgICAgICAgICB2YWx1ZT17ZmllbGRzLmZpbmQoKGZpZWxkKSA9PiBmaWVsZE5hbWUgPT09IGZpZWxkLnZhbHVlKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake2Jhc2VDbGFzc31fX29wZXJhdG9yYH0+XG4gICAgICAgICAgICA8UmVhY3RTZWxlY3RcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFmaWVsZE5hbWV9XG4gICAgICAgICAgICAgIGlzQ2xlYXJhYmxlPXtmYWxzZX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhvcGVyYXRvcikgPT4ge1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICd1cGRhdGUnLFxuICAgICAgICAgICAgICAgICAgYW5kSW5kZXgsXG4gICAgICAgICAgICAgICAgICBvcGVyYXRvcjogb3BlcmF0b3IudmFsdWUsXG4gICAgICAgICAgICAgICAgICBvckluZGV4LFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgc2V0SW50ZXJuYWxPcGVyYXRvckZpZWxkKG9wZXJhdG9yLnZhbHVlKVxuICAgICAgICAgICAgICAgIHNldEludGVybmFsVmFsdWUoJycpIC8vIFJlc2V0IHZhbHVlIHdoZW4gb3BlcmF0b3IgY2hhbmdlc1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvcHRpb25zPXthY3RpdmVGaWVsZC5vcGVyYXRvcnN9XG4gICAgICAgICAgICAgIHZhbHVlPXtcbiAgICAgICAgICAgICAgICBhY3RpdmVGaWVsZC5vcGVyYXRvcnMuZmluZChcbiAgICAgICAgICAgICAgICAgIChvcGVyYXRvcikgPT4gaW50ZXJuYWxPcGVyYXRvckZpZWxkID09PSBvcGVyYXRvci52YWx1ZSxcbiAgICAgICAgICAgICAgICApIHx8IG51bGxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7YmFzZUNsYXNzfV9fdmFsdWVgfT5cbiAgICAgICAgICAgIDxSZW5kZXJDdXN0b21Db21wb25lbnRcbiAgICAgICAgICAgICAgQ3VzdG9tQ29tcG9uZW50PXthY3RpdmVGaWVsZD8ucHJvcHM/LmFkbWluPy5jb21wb25lbnRzPy5GaWx0ZXJ9XG4gICAgICAgICAgICAgIERlZmF1bHRDb21wb25lbnQ9e1ZhbHVlQ29tcG9uZW50fVxuICAgICAgICAgICAgICBjb21wb25lbnRQcm9wcz17e1xuICAgICAgICAgICAgICAgIC4uLmFjdGl2ZUZpZWxkPy5wcm9wcyxcbiAgICAgICAgICAgICAgICBkaXNhYmxlZDogIW9wZXJhdG9yVmFsdWUsXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U6IHNldEludGVybmFsVmFsdWUsXG4gICAgICAgICAgICAgICAgb3BlcmF0b3I6IG9wZXJhdG9yVmFsdWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogdmFsdWVPcHRpb25zLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBpbnRlcm5hbFZhbHVlLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X19hY3Rpb25zYH0+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgYnV0dG9uU3R5bGU9XCJpY29uLWxhYmVsXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7YmFzZUNsYXNzfV9fYWN0aW9ucy1yZW1vdmVgfVxuICAgICAgICAgICAgaWNvbj1cInhcIlxuICAgICAgICAgICAgaWNvblN0eWxlPVwid2l0aC1ib3JkZXJcIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT5cbiAgICAgICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdyZW1vdmUnLFxuICAgICAgICAgICAgICAgIGFuZEluZGV4LFxuICAgICAgICAgICAgICAgIG9ySW5kZXgsXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb3VuZFxuICAgICAgICAgIC8+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgYnV0dG9uU3R5bGU9XCJpY29uLWxhYmVsXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7YmFzZUNsYXNzfV9fYWN0aW9ucy1hZGRgfVxuICAgICAgICAgICAgaWNvbj1cInBsdXNcIlxuICAgICAgICAgICAgaWNvblN0eWxlPVwid2l0aC1ib3JkZXJcIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT5cbiAgICAgICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdhZGQnLFxuICAgICAgICAgICAgICAgIGFuZEluZGV4OiBhbmRJbmRleCArIDEsXG4gICAgICAgICAgICAgICAgZmllbGQ6IGZpZWxkc1swXS52YWx1ZSxcbiAgICAgICAgICAgICAgICBvckluZGV4LFxuICAgICAgICAgICAgICAgIHJlbGF0aW9uOiAnYW5kJyxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvdW5kXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb25kaXRpb25cbiJdLCJuYW1lcyI6WyJ2YWx1ZUZpZWxkcyIsIkRhdGUiLCJOdW1iZXIiLCJSZWxhdGlvbnNoaXAiLCJTZWxlY3QiLCJUZXh0IiwiYmFzZUNsYXNzIiwiQ29uZGl0aW9uIiwicHJvcHMiLCJhbmRJbmRleCIsImRpc3BhdGNoIiwiZmllbGRzIiwib3JJbmRleCIsInZhbHVlIiwiZmllbGROYW1lIiwiT2JqZWN0Iiwia2V5cyIsImFjdGl2ZUZpZWxkIiwic2V0QWN0aXZlRmllbGQiLCJ1c2VTdGF0ZSIsImZpbmQiLCJmaWVsZCIsIm9wZXJhdG9yQW5kVmFsdWUiLCJlbnRyaWVzIiwidW5kZWZpbmVkIiwicXVlcnlWYWx1ZSIsIm9wZXJhdG9yVmFsdWUiLCJpbnRlcm5hbFZhbHVlIiwic2V0SW50ZXJuYWxWYWx1ZSIsImludGVybmFsT3BlcmF0b3JGaWVsZCIsInNldEludGVybmFsT3BlcmF0b3JGaWVsZCIsImRlYm91bmNlZFZhbHVlIiwidXNlRGVib3VuY2UiLCJ1c2VFZmZlY3QiLCJuZXdBY3RpdmVGaWVsZCIsIm5hbWUiLCJ0eXBlIiwiYm9vbGVhblNlbGVjdCIsImluY2x1ZGVzIiwiVmFsdWVDb21wb25lbnQiLCJjb21wb25lbnQiLCJ2YWx1ZU9wdGlvbnMiLCJvcHRpb25zIiwiZGl2IiwiY2xhc3NOYW1lIiwiUmVhY3RTZWxlY3QiLCJpc0NsZWFyYWJsZSIsIm9uQ2hhbmdlIiwiZGlzYWJsZWQiLCJvcGVyYXRvciIsIm9wZXJhdG9ycyIsIlJlbmRlckN1c3RvbUNvbXBvbmVudCIsIkN1c3RvbUNvbXBvbmVudCIsImFkbWluIiwiY29tcG9uZW50cyIsIkZpbHRlciIsIkRlZmF1bHRDb21wb25lbnQiLCJjb21wb25lbnRQcm9wcyIsIkJ1dHRvbiIsImJ1dHRvblN0eWxlIiwiaWNvbiIsImljb25TdHlsZSIsIm9uQ2xpY2siLCJyb3VuZCIsInJlbGF0aW9uIl0sInJhbmdlTWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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